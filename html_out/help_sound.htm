<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU">
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Звук [Документация QSP]</title>
<link href="default.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div class="page group">
<!-- wikipage start -->
<!-- TOC START -->

<!-- TOC END -->
<p>
<a class="wikilink1" href="help_menu.htm" title="help:menu">Назад: Меню</a>
</p>
<h1 class="sectionedit1" id="zvuk">Звук</h1>
<div class="level1">
<p>
Quest Soft Player позволяет запускать проигрывание различных звуковых файлов.
</p>
<p>
Внимательно читайте документацию к конкретному плееру, прежде чем запускать звуковые файлы. Все плееры поддерживают ограниченные наборы форматов. Наиболее распространёнными поддерживаемыми форматами считаются <code>.mp3</code>, <code>.wav</code> и <code>.ogg</code>.
</p>
</div>
<h2 class="sectionedit2" id="vozmozhnosti_klassicheskogo_pleera_qsp">Возможности классического плеера QSP</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Одновременное звучание до 32-х композиций.</div>
</li>
<li class="level1"><div class="li"> Поддерживается множество различных аудиоформатов, в т.ч. <code>.mp3</code>, <code>.wav</code>, <code>.mid</code>, <code>.ogg</code>, <code>.flac</code> и другие.</div>
</li>
</ul>
</div>
<h2 class="sectionedit3" id="operatory_dlja_upravlenija_zvukovymi_fajlami">Операторы для управления звуковыми файлами</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <code id="statement_PLAY"><strong>PLAY</strong></code> — проигрывание указанного звукового файла с заданной громкостью. Общая запись:<pre class="brush: qsp">
PLAY [$путь_к_звуковому_файлу],[#громкость]
</pre> , где <code>[$путь_к_звуковому_файлу]</code> — путь к звуковому файлу относительно файла игры, <code>[#громкость]</code> — громкость воспроизведения в процентах от 0 до 100. Параметр <code>[#громкость]</code> может отсутствовать, при этом громкость принимается равной 100%.<br/>
Примеры:<pre class="brush: qsp">
!Громкость 100%
play 'sound/music.mp3'
!Громкость 50%
play 'sound/music.mp3',50
!Громкость 0% (без звука)
play 'sound/music.mp3',0
</pre><pre class="brush: qsp">      
!Проигрывание файла по адресу из переменной $file
! с расширением 'mid'
! и громкостью volume
$file="melody"
play '&lt;&lt;$file&gt;&gt;.mid',volume
! аналогично:
$file="melody.mid"
play $file,volume
</pre>      Если файл уже проигрывается, то изменяется его громкость звучания без "перезапуска".</div>
</li>
<li class="level1"><div class="li"> <code id="statement_CLOSE"><strong>CLOSE</strong></code> — останавливает проигрывание указанного звукового файла. Общая запись:<pre class="brush: qsp">
CLOSE [$путь_к_звуковому_файлу]
</pre> , где <code>[$путь_к_звуковому_файлу]</code> — путь к звуковому файлу относительно файла игры. Если параметр <code>[$путь_к_звуковому_файлу]</code> не указан, происходит остановка воспроизведения всех звуковых файлов.<pre class="brush: qsp">
close "sound/music.mp3"
</pre></div>
</li>
<li class="level1"><div class="li"> <code><strong>CLOSE ALL</strong></code> — остановка проигрывания всех активных звуковых файлов. Имеет краткую форму <code><strong>CLOSE</strong></code>.<pre class="brush: qsp">
! останавливаем все звуки
close all
! или так
close
</pre></div>
</li>
</ul>
</div>
<h2 class="sectionedit4" id="funkcii_dlja_upravlenija_zvukovymi_fajlami">Функции для управления звуковыми файлами</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <code id="func_ISPLAY">ISPLAY</code> — функция проверяет, проигрывается ли в данный момент файл с указанным названием, и если проигрывается, возвращает <strong>1</strong>. В противном случае функция возвращает <strong>0</strong>. Общая запись: <pre class="brush: qsp">
     ISPLAY([$путь_к_файлу])
</pre> , где <code>[$путь_к_файлу]</code> — путь к звуковому файлу относительно файла игры.<br/>
</div>
</li>
</ul>
<p>
Пример: </p><pre class="brush: qsp">
     if isplay('music/mountsound.mp3'):         *pl 'Проигрывается музыка.'     else:         *pl 'Музыка не проигрывается.'     end
</pre>
</div>
<h2 class="sectionedit5" id="puti_k_zvukovym_fajlam">Пути к звуковым файлам</h2>
<div class="level2">
<p>
Пути к звуковым файлам указываются относительно файла игры.
</p>
<p>
Например, если файл игры лежит в папке "<code>game</code>", и в той же папке лежит звуковой файл "<code>music.mp3</code>", указываем просто название файла:
</p>
<p>
</p><pre class="brush: qsp">
play "music.mp3",100

if isplay("music.mp3"):
    "проигрывается музыка"
end
</pre>
<p>
Если файл игры находится в папке "<code>game</code>", и в той же папке лежит папка "<code>snd</code>", а в ней находится файл "<code>mystic.mid</code>", то путь к этому звуковому файлу будет выглядеть, как "<code>snd/mystic.mid</code>":
</p>
<p>
</p><pre class="brush: qsp">
play "snd/mystic.mid",25
wait 1000

if isplay("snd/mystic.mid"):
    "Звук ещё не проигрался."
else:
    "Тишина"
end
</pre>
<p>
<a class="wikilink1" href="help_graphics.htm" title="help:graphics">Вперёд: Графика</a>
</p>
</div>

<!-- wikipage stop -->
</div></body>
</html>