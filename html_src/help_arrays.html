<!DOCTYPE html>
<html lang="ru" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Массивы [Документация QSP]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="help,arrays"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Документация QSP"/>
<link rel="start" href="/"/>
<link rel="contents" href="/help:arrays?do=index" title="Все страницы"/>
<link rel="alternate" type="application/rss+xml" title="Недавние изменения" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Текущее пространство имён" href="/feed.php?mode=list&amp;ns=help"/>
<link rel="alternate" type="text/html" title="Простой HTML" href="/_export/xhtml/help:arrays"/>
<link rel="alternate" type="text/plain" title="вики-разметка" href="/_export/raw/help:arrays"/>
<link rel="canonical" href="https://wiki.qsp.org/help:arrays"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=qspdokuwiki&amp;tseed=f799b71f6ad814a2c02470a4d20f4250"/>
<link rel="stylesheet" type="text/css" href="/lib/plugins/syntaxhighlighter3/sxh3/styles/shCore.css"/>
<link rel="stylesheet" type="text/css" href="/lib/plugins/syntaxhighlighter3/sxh3/styles/shThemeDefault.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='help';var JSINFO = {"id":"help:arrays","namespace":"help"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?tseed=f799b71f6ad814a2c02470a4d20f4250&amp;template=qspdokuwiki"></script>
<script type="text/javascript" charset="utf-8">/*<![CDATA[*/NS = "help";var toolbar = [{"type":"format","title":"\u041f\u043e\u043b\u0443\u0436\u0438\u0440\u043d\u044b\u0439","icon":"bold.png","key":"b","open":"**","close":"**","block":false},{"type":"format","title":"\u041a\u0443\u0440\u0441\u0438\u0432","icon":"italic.png","key":"i","open":"\/\/","close":"\/\/","block":false},{"type":"format","title":"\u041f\u043e\u0434\u0447\u0451\u0440\u043a\u043d\u0443\u0442\u044b\u0439","icon":"underline.png","key":"u","open":"__","close":"__","block":false},{"type":"format","title":"\u0422\u0435\u043a\u0441\u0442 \u043a\u043e\u0434\u0430","icon":"mono.png","key":"m","open":"''","close":"''","block":false},{"type":"format","title":"\u0417\u0430\u0447\u0451\u0440\u043a\u043d\u0443\u0442\u044b\u0439","icon":"strike.png","key":"d","open":"<del>","close":"<\/del>","block":false},{"type":"autohead","title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f","icon":"hequal.png","key":"8","text":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","mod":0,"block":true},{"type":"autohead","title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0431\u043e\u043b\u0435\u0435 \u043d\u0438\u0437\u043a\u043e\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f (\u043f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a)","icon":"hminus.png","key":"9","text":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","mod":1,"block":true},{"type":"autohead","title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0431\u043e\u043b\u0435\u0435 \u0432\u044b\u0441\u043e\u043a\u043e\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f","icon":"hplus.png","key":"0","text":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","mod":-1,"block":true},{"type":"picker","title":"\u0412\u044b\u0431\u043e\u0440 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430","icon":"h.png","class":"pk_hl","list":[{"type":"format","title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1-\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f","icon":"h1.png","key":"1","open":"====== ","close":" ======\\n"},{"type":"format","title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2-\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f","icon":"h2.png","key":"2","open":"===== ","close":" =====\\n"},{"type":"format","title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 3-\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f","icon":"h3.png","key":"3","open":"==== ","close":" ====\\n"},{"type":"format","title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 4-\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f","icon":"h4.png","key":"4","open":"=== ","close":" ===\\n"},{"type":"format","title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 5-\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f","icon":"h5.png","key":"5","open":"== ","close":" ==\\n"}],"block":true},{"type":"format","title":"\u0412\u043d\u0435\u0448\u043d\u044f\u044f \u0441\u0441\u044b\u043b\u043a\u0430","icon":"linkextern.png","open":"[[","close":"]]","sample":"http:\/\/example.com|\u0412\u043d\u0435\u0448\u043d\u044f\u044f \u0441\u0441\u044b\u043b\u043a\u0430","block":false},{"type":"formatln","title":"\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u043d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430","icon":"ol.png","open":"  - ","close":"","key":"-","block":true},{"type":"formatln","title":"\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u043d\u0435\u043d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430","icon":"ul.png","open":"  * ","close":"","key":".","block":true},{"type":"insert","title":"\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c","icon":"hr.png","insert":"\\n----\\n","block":true},{"type":"picker","title":"\u0421\u043c\u0430\u0439\u043b\u0438\u043a\u0438","icon":"smiley.png","list":{"8-)":"icon_cool.gif","8-O":"icon_eek.gif","8-o":"icon_eek.gif",":-(":"icon_sad.gif",":-)":"icon_smile.gif","=)":"icon_smile2.gif",":-\/":"icon_doubt.gif",":-\\":"icon_doubt2.gif",":-?":"icon_confused.gif",":-D":"icon_biggrin.gif",":-P":"icon_razz.gif",":-o":"icon_surprised.gif",":-O":"icon_surprised.gif",":-x":"icon_silenced.gif",":-X":"icon_silenced.gif",":-|":"icon_neutral.gif",";-)":"icon_wink.gif","m(":"facepalm.gif","^_^":"icon_fun.gif",":?:":"icon_question.gif",":!:":"icon_exclaim.gif","LOL":"icon_lol.gif","FIXME":"fixme.gif","DELETEME":"delete.gif"},"icobase":"smileys","block":false},{"type":"picker","title":"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b","icon":"chars.png","list":["\u00c0","\u00e0","\u00c1","\u00e1","\u00c2","\u00e2","\u00c3","\u00e3","\u00c4","\u00e4","\u01cd","\u01ce","\u0102","\u0103","\u00c5","\u00e5","\u0100","\u0101","\u0104","\u0105","\u00c6","\u00e6","\u0106","\u0107","\u00c7","\u00e7","\u010c","\u010d","\u0108","\u0109","\u010a","\u010b","\u00d0","\u0111","\u00f0","\u010e","\u010f","\u00c8","\u00e8","\u00c9","\u00e9","\u00ca","\u00ea","\u00cb","\u00eb","\u011a","\u011b","\u0112","\u0113","\u0116","\u0117","\u0118","\u0119","\u0122","\u0123","\u011c","\u011d","\u011e","\u011f","\u0120","\u0121","\u0124","\u0125","\u00cc","\u00ec","\u00cd","\u00ed","\u00ce","\u00ee","\u00cf","\u00ef","\u01cf","\u01d0","\u012a","\u012b","\u0130","\u0131","\u012e","\u012f","\u0134","\u0135","\u0136","\u0137","\u0139","\u013a","\u013b","\u013c","\u013d","\u013e","\u0141","\u0142","\u013f","\u0140","\u0143","\u0144","\u00d1","\u00f1","\u0145","\u0146","\u0147","\u0148","\u00d2","\u00f2","\u00d3","\u00f3","\u00d4","\u00f4","\u00d5","\u00f5","\u00d6","\u00f6","\u01d1","\u01d2","\u014c","\u014d","\u0150","\u0151","\u0152","\u0153","\u00d8","\u00f8","\u0154","\u0155","\u0156","\u0157","\u0158","\u0159","\u015a","\u015b","\u015e","\u015f","\u0160","\u0161","\u015c","\u015d","\u0162","\u0163","\u0164","\u0165","\u00d9","\u00f9","\u00da","\u00fa","\u00db","\u00fb","\u00dc","\u00fc","\u01d3","\u01d4","\u016c","\u016d","\u016a","\u016b","\u016e","\u016f","\u01d6","\u01d8","\u01da","\u01dc","\u0172","\u0173","\u0170","\u0171","\u0174","\u0175","\u00dd","\u00fd","\u0178","\u00ff","\u0176","\u0177","\u0179","\u017a","\u017d","\u017e","\u017b","\u017c","\u00de","\u00fe","\u00df","\u0126","\u0127","\u00bf","\u00a1","\u00a2","\u00a3","\u00a4","\u00a5","\u20ac","\u00a6","\u00a7","\u00aa","\u00ac","\u00af","\u00b0","\u00b1","\u00f7","\u2030","\u00bc","\u00bd","\u00be","\u00b9","\u00b2","\u00b3","\u00b5","\u00b6","\u2020","\u2021","\u00b7","\u2022","\u00ba","\u2200","\u2202","\u2203","\u018f","\u0259","\u2205","\u2207","\u2208","\u2209","\u220b","\u220f","\u2211","\u203e","\u2212","\u2217","\u00d7","\u2044","\u221a","\u221d","\u221e","\u2220","\u2227","\u2228","\u2229","\u222a","\u222b","\u2234","\u223c","\u2245","\u2248","\u2260","\u2261","\u2264","\u2265","\u2282","\u2283","\u2284","\u2286","\u2287","\u2295","\u2297","\u22a5","\u22c5","\u25ca","\u2118","\u2111","\u211c","\u2135","\u2660","\u2663","\u2665","\u2666","\u03b1","\u03b2","\u0393","\u03b3","\u0394","\u03b4","\u03b5","\u03b6","\u03b7","\u0398","\u03b8","\u03b9","\u03ba","\u039b","\u03bb","\u03bc","\u039e","\u03be","\u03a0","\u03c0","\u03c1","\u03a3","\u03c3","\u03a4","\u03c4","\u03c5","\u03a6","\u03c6","\u03c7","\u03a8","\u03c8","\u03a9","\u03c9","\u2605","\u2606","\u260e","\u261a","\u261b","\u261c","\u261d","\u261e","\u261f","\u2639","\u263a","\u2714","\u2718","\u201e","\u201c","\u201d","\u201a","\u2018","\u2019","\u00ab","\u00bb","\u2039","\u203a","\u2014","\u2013","\u2026","\u2190","\u2191","\u2192","\u2193","\u2194","\u21d0","\u21d1","\u21d2","\u21d3","\u21d4","\u00a9","\u2122","\u00ae","\u2032","\u2033","[","]","{","}","~","(",")","%","\u00a7","$","#","|","@"],"block":false}];

/*!]]>*/</script>
<script type="text/javascript" src="/lib/plugins/syntaxhighlighter3/sxh3/scripts/shCore.js"></script>
<script type="text/javascript" src="/lib/plugins/syntaxhighlighter3/sxh3/scripts/shAutoloader.js"></script>
<script type="text/javascript" src="/lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushXml.js"></script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="/lib/tpl/qspdokuwiki/images/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/qspdokuwiki/images/apple-touch-icon.png" />
    </head>

<body>
    <!--[if lte IE 7 ]><div id="IE7"><![endif]--><!--[if IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_qspdokuwiki    showSidebar hasSidebar">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="#dokuwiki__content">Перейти к содержанию</a></li>
        </ul>

        <h1><a href="/start"  accesskey="h" title="[H]"><img src="/_media/wiki:logo.png" width="147" height="74" alt="" /></a><a href="/start"  accesskey="h" title="[H]"><span>Документация QSP</span></a><div class='main-site-row'><a href="https://qsp.org" ><span>Сайт</span></a><a href="https://qsp.org/index.php?option=com_agora&Itemid=57" ><span>Форум</span></a></div></h1>
            </div>

    <div class="tools group">
        <!-- USER TOOLS -->
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">Инструменты пользователя</h3>
                <ul>
                    <li><a href="/help:arrays?do=login&amp;sectok=3e6ff35dfd333a48df46ef95b66bb2d4"  class="action login" rel="nofollow" title="Войти">Войти</a></li>                </ul>
            </div>
        
        <!-- SITE TOOLS -->
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Инструменты сайта</h3>
            <form action="/start" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Поиск" class="button" title="Поиск" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>            <div class="mobileTools">
                <form action="/doku.php" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="help:arrays" /><select name="do" class="edit quickselect" title="Инструменты"><option value="">Инструменты</option><optgroup label="Инструменты страницы"><option value="edit">Показать исходный текст</option><option value="revisions">История страницы</option><option value="backlink">Ссылки сюда</option></optgroup><optgroup label="Инструменты сайта"><option value="recent">Недавние изменения</option><option value="media">Управление медиафайлами</option><option value="index">Все страницы</option></optgroup><optgroup label="Инструменты пользователя"><option value="login">Войти</option></optgroup></select><input type="submit" value="&gt;" /></div></form>            </div>
            <ul>
                <li><a href="/help:arrays?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Недавние изменения [R]">Недавние изменения</a></li><li><a href="/help:arrays?do=media&amp;ns=help"  class="action media" rel="nofollow" title="Управление медиафайлами">Управление медиафайлами</a></li><li><a href="/help:arrays?do=index"  class="action index" accesskey="x" rel="nofollow" title="Все страницы [X]">Все страницы</a></li>            </ul>
        </div>

    </div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                                        <div class="trace"><span class="bchead">Вы посетили:</span> <span class="bcsep">•</span> <bdi><a href="/help:cycle"  class="breadcrumbs" title="help:cycle">Циклы</a></bdi> <span class="bcsep">•</span> <bdi><a href="/help:interface"  class="breadcrumbs" title="help:interface">Настройки интерфейса</a></bdi> <span class="bcsep">•</span> <bdi><a href="/help:qspider"  class="breadcrumbs" title="help:qspider">qSpider — плеер с поддержкой HTML</a></bdi> <span class="bcsep">•</span> <bdi><a href="/help:navigator"  class="breadcrumbs" title="help:navigator">Quest Navigator</a></bdi> <span class="bcsep">•</span> <bdi><a href="/help:txt2gam"  class="breadcrumbs" title="help:txt2gam">TXT2GAM. Краткое руководство</a></bdi> <span class="bcsep">•</span> <bdi><a href="/help:html"  class="breadcrumbs" title="help:html">HTML</a></bdi> <span class="bcsep">•</span> <bdi><a href="/help:stat"  class="breadcrumbs" title="help:stat">Окно дополнительного описан</a></bdi> <span class="bcsep">•</span> <bdi><a href="/help:goto"  class="breadcrumbs" title="help:goto">Переходы</a></bdi> <span class="bcsep">•</span> <bdi><a href="/help:sound"  class="breadcrumbs" title="help:sound">Звук</a></bdi> <span class="bcsep">•</span> <span class="curid"><bdi><a href="/help:arrays"  class="breadcrumbs" title="help:arrays">Массивы</a></bdi></span></div>
                    </div>
    
    
    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

                            <!-- ********** ASIDE ********** -->
                <div id="dokuwiki__aside"><div class="pad include group">
                    <h3 class="toggle">Боковая панель</h3>
                    <div class="content">
                                                                        <ul>
<li class="level1"><div class="li">  <strong><a href="/start" class="wikilink1" title="start">В начало</a></strong></div>
</li>
<li class="level1"><div class="li">  <strong><a href="/help:qsp" class="wikilink1" title="help:qsp">Что такое QSP?</a></strong></div>
</li>
<li class="level1"><div class="li">  <strong><a href="/help:locations" class="wikilink1" title="help:locations">Локации</a></strong></div>
</li>
<li class="level1"><div class="li">  <strong>Вывод текста</strong></div>
<ul>
<li class="level2"><div class="li">  <a href="/help:main" class="wikilink1" title="help:main">Окно основного описания</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:stat" class="wikilink1" title="help:stat">Окно дополнительного описания</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:msgbox" class="wikilink1" title="help:msgbox">Окно сообщений</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li">  <strong><a href="/help:acts" class="wikilink1" title="help:acts">Действия</a></strong></div>
</li>
<li class="level1"><div class="li">  <strong><a href="/help:goto" class="wikilink1" title="help:goto">Переходы</a></strong></div>
</li>
<li class="level1"><div class="li">  <strong><a href="/help:objs" class="wikilink1" title="help:objs">Предметы (инвентарь)</a></strong></div>
</li>
<li class="level1"><div class="li">  <strong>Программирование</strong></div>
<ul>
<li class="level2"><div class="li">  <a href="/help:principle" class="wikilink1" title="help:principle">Порядок работы интерпретатора</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:variables" class="wikilink1" title="help:variables">Переменные</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:expressions" class="wikilink1" title="help:expressions">Выражения</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:coding" class="wikilink1" title="help:coding">Программный код</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:cycle" class="wikilink1" title="help:cycle">Циклы</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:arrays" class="wikilink1" title="help:arrays">Массивы</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:strings" class="wikilink1" title="help:strings">Строки</a></div>
<ul>
<li class="level3"><div class="li">  <a href="/help:regexp" class="wikilink1" title="help:regexp">Регулярные выражения</a></div>
</li>
</ul>
</li>
<li class="level2"><div class="li">  <a href="/help:tuples" class="wikilink1" title="help:tuples">Кортежи</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:conditional" class="wikilink1" title="help:conditional">Условия</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:organizing" class="wikilink1" title="help:organizing">Пользовательские функции и процедуры</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:jump" class="wikilink1" title="help:jump">Переходы внутри локации</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:service_locations" class="wikilink1" title="help:service_locations">Служебные локации, события</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:dynamical" class="wikilink1" title="help:dynamical">Динамический код</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li">  <strong>Оформление</strong></div>
<ul>
<li class="level2"><div class="li">  <a href="/help:menu" class="wikilink1" title="help:menu">Меню</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:sound" class="wikilink1" title="help:sound">Звук</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:graphics" class="wikilink1" title="help:graphics">Графика</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:interface" class="wikilink1" title="help:interface">Настройки интерфейса</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:html" class="wikilink1" title="help:html">HTML</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li">  <strong>Расширенные возможности</strong></div>
<ul>
<li class="level2"><div class="li">  <a href="/help:inputs" class="wikilink1" title="help:inputs">Ввод текста игроком</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:modules" class="wikilink1" title="help:modules">Работа с файлами игр, модули</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:savegame" class="wikilink1" title="help:savegame">Работа с файлами сохранений</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:realtime" class="wikilink1" title="help:realtime">Реальное время</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li">  <strong>Нюансы написания игр под разные плееры</strong></div>
<ul>
<li class="level2"><div class="li">  <a href="/help:classic_qsp" class="wikilink1" title="help:classic_qsp">Классический плеер</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:qspider" class="wikilink1" title="help:qspider">qSpider</a></div>
<ul>
<li class="level3"><div class="li"> <a href="/help:qspider_gamecfg" class="wikilink1" title="help:qspider_gamecfg">Конфигурационный файл</a></div>
</li>
<li class="level3"><div class="li"> <a href="/help:qspider_aeroqsp" class="wikilink1" title="help:qspider_aeroqsp">Особенности запуска AeroQSP-игр</a></div>
</li>
<li class="level3"><div class="li"> <a href="/help:qspider_interface" class="wikilink1" title="help:qspider_interface">Взаимодействие с интерфейсом</a></div>
</li>
<li class="level3"><div class="li"> <a href="/help:qspider_themes" class="wikilink1" title="help:qspider_themes">Темы оформления</a></div>
</li>
<li class="level3"><div class="li"> <a href="/help:qspider_spectags" class="wikilink1" title="help:qspider_spectags">Специальные теги</a></div>
</li>
<li class="level3"><div class="li"> <a href="/help:qspider_inclib" class="wikilink1" title="help:qspider_inclib">Встроенная библиотека</a></div>
</li>
<li class="level3"><div class="li"> <a href="/help:qspider_standalone" class="wikilink2" title="help:qspider_standalone" rel="nofollow">Стандалон-сборка</a></div>
</li>
</ul>
</li>
<li class="level2"><div class="li">  x <a href="/help:navigator" class="wikilink1" title="help:navigator">Quest Navigator</a></div>
</li>
<li class="level2"><div class="li">  x <a href="/help:aeroqsp" class="wikilink1" title="help:aeroqsp">AeroQSP</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li">  <strong>Утилиты и средства разработки</strong></div>
<ul>
<li class="level2"><div class="li">  <a href="/help:qgen" class="wikilink1" title="help:qgen">Quest Generator</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:debugger" class="wikilink1" title="help:debugger">Отладчик</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:txt2gam" class="wikilink1" title="help:txt2gam">Работа с утилитой TXT2GAM</a></div>
</li>
<li class="level2"><div class="li">  <a href="/help:analyzer" class="wikilink1" title="help:analyzer">Анализатор кода QSP</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li">  <strong><a href="/help:limits" class="wikilink1" title="help:limits">Ограничения QSP</a></strong></div>
</li>
<li class="level1"><div class="li">  <strong><a href="/howto:start" class="wikilink1" title="howto:start">Как сделать?</a></strong></div>
</li>
<li class="level1"><div class="li">  <strong><a href="/help:glossary" class="wikilink1" title="help:glossary">Cловарь терминов</a></strong></div>
</li>
<li class="level1"><div class="li">  <strong><a href="/help:keywords" class="wikilink1" title="help:keywords">Ключевые слова. Указатель</a></strong></div>
</li>
</ul>
                                            </div>
                </div></div><!-- /aside -->
            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">

                <div class="pageId"><span>help:arrays</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Содержание</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="#massivy">Массивы</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#zachem_nuzhny_massivy">Зачем нужны массивы</a></div></li>
<li class="level2"><div class="li"><a href="#chto_takoe_massivy">Что такое массивы</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#sozdanie_massiva">Создание массива</a></div></li>
<li class="level3"><div class="li"><a href="#tipy_dannyx_v_massivax">Типы данных в массивах</a></div></li>
<li class="level3"><div class="li"><a href="#obrabotka_massivov">Обработка массивов</a></div></li>
<li class="level3"><div class="li"><a href="#indeksirovanie_ehlementov_massiva">Индексирование элементов массива</a></div></li>
<li class="level3"><div class="li"><a href="#mnogomernye_massivy">Многомерные массивы</a></div></li>
<li class="level3"><div class="li"><a href="#uproschjonnyj_dostup_k_jachejkam_massivov">Упрощённый доступ к ячейкам массивов</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#funkcii_i_operatory_dlja_raboty_s_massivami">Функции и операторы для работы с массивами</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#discussion__section">Обсуждение</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<p>
<a href="/help:coding" class="wikilink1" title="help:coding">Назад: Программный код</a>
</p>

<h1 class="sectionedit1" id="massivy">Массивы</h1>
<div class="level1">

</div>

<h2 class="sectionedit2" id="zachem_nuzhny_massivy">Зачем нужны массивы</h2>
<div class="level2">

<p>
Иногда нам становится неудобно хранить множество однотипных значений в разных переменных. Например, у нас есть двадцать &quot;одноручных мечей&quot; и для каждого мы прописали урон в двадцати разных переменных:
</p>

<p>
<pre class="brush: qsp">
меч_одноручный_1 = 23
меч_одноручный_2 = 34
меч_одноручный_3 = 27
...
меч_одноручный_19 = 7
меч_одноручный_20 = 41
</pre>
</p>

<p>
Даже для того, чтобы просто вывести на экран данную характеристику для каждого меча, нам придётся написать двадцать строчек кода, почти ничем не отличающихся:
</p>

<p>
<pre class="brush: qsp">
*pl &quot;Меч одноручный №1. Урон: &quot;+$str(меч_одноручный_1)
*pl &quot;Меч одноручный №2. Урон: &quot;+$str(меч_одноручный_2)
*pl &quot;Меч одноручный №3. Урон: &quot;+$str(меч_одноручный_3)
...
*pl &quot;Меч одноручный №19. Урон: &quot;+$str(меч_одноручный_19)
*pl &quot;Меч одноручный №20. Урон: &quot;+$str(меч_одноручный_20)
</pre>
</p>

<p>
Всё бы ничего, но что если нам нужно найти среди всех этих переменных ту, которая содержит максимальное число (мы ведь хотим пользоваться самым хорошим мечом)? Тут нам придётся городить огромную конструкцию условий, которая сравнивает каждую переменную со всеми остальными, и объём необходимого нам кода возрастает многократно.
</p>

<p>
Да, есть некоторые варианты решения этих двух задач без использования массивов, но они тоже весьма сложны. Куда как проще работать с однотипными данными, если они представлены в форме массива.
</p>

<p>
Если переменную мы можем вообразить в виде отдельной маленькой коробки, в которую можно положить лишь одно значение, то массив — это большой шкаф, со множеством пронумерованных ящиков (ячеек), в каждый из которых мы можем положить по одному значению.
</p>

</div>

<h2 class="sectionedit3" id="chto_takoe_massivy">Что такое массивы</h2>
<div class="level2">

<p>
<strong>Массив</strong> - в <strong>QSP</strong> это последовательный набор однотипных значений, записанных под одним общим именем. Например, вместо того, чтобы помещать урон каждого одноручного меча в отдельную переменную, мы заводим один массив, и размещаем каждое значение урона в отдельных ячейках этого самого одного единственного массива:
</p>

<p>
<pre class="brush: qsp">
меч_одноручный[0] = 23 &amp; ! нумерация ячеек массива начинается с нуля
меч_одноручный[1] = 34
меч_одноручный[2] = 27
...
меч_одноручный[18] = 7
меч_одноручный[19] = 41 &amp; ! значение для двадцатого меча лежит в ячейке под номером 19
</pre>
</p>

<p>
Как видно из примера, чтобы записать значение в отдельную ячейку массива, мы должны:
</p>
<ul>
<li class="level1"><div class="li"> написать имя массива</div>
</li>
<li class="level1"><div class="li"> затем без пробелов, не отступая от имени массива, в квадратных скобках написать номер ячейки, в которую хотим поместить значение</div>
</li>
<li class="level1"><div class="li"> затем поставить знак <code><strong>=</strong></code> (операция присваивания)</div>
</li>
<li class="level1"><div class="li"> и уже после знака равно написать нужное значение.</div>
</li>
</ul>

<p>
В нашем примере массив называется &quot;меч_одноручный&quot;, а в квадратных скобках мы указываем номера ячеек этого массива.
</p>

</div>

<h3 class="sectionedit4" id="sozdanie_massiva">Создание массива</h3>
<div class="level3">

<p>
Записывая значения хотя бы в одну ячейку массива, мы тем самым <strong>создаём</strong> (инициализируем) весь массив.
</p>
<ul>
<li class="level1"><div class="li"> Ячейки массива так же называются <strong>элементами</strong>.</div>
</li>
<li class="level1"><div class="li"> Каждый массив состоит из множества элементов, и у каждого элемента есть собственный номер.</div>
</li>
<li class="level1"><div class="li"> Номера элементов начинаются с нуля и не повторяются.</div>
</li>
<li class="level1"><div class="li"> Нумерация элементов массива не прерывается. То есть, например, не может в массиве существовать четвёртый элемент, но отсутствовать второй и третий элемент. Если мы создадим только нулевой и первый, а так же четвёртый, элементы массива, второй и третий элементы будут созданы автоматически: <pre class="brush: qsp">
mass[0]=13
mass[1]=19
mass[4]=23
! элементы mass[2] и mass[3] созданы автоматически и хранят значения по умолчанию
</pre></div>
</li>
<li class="level1"><div class="li"> Максимальный возможный номер ячейки массива <code><strong>2147483647</strong></code>.</div>
</li>
<li class="level1"><div class="li"> Минимально возможный номер ячейки массива <code><strong>0</strong></code>. То есть QSP не допускает создания ячеек с отрицательным индексом и не работает с такими ячейками, игнорируя команды присвоения, и возвращая значение по умолчанию при попытке извлечь из такой ячейки значение.</div>
</li>
</ul>

</div>

<h3 class="sectionedit5" id="tipy_dannyx_v_massivax">Типы данных в массивах</h3>
<div class="level3">

<p>
Массив можно представлять себе как список значений. Если вам нужно хранить только одно значение, достаточно обычной переменной, но если вам нужно сохранить множество однотипных значений, как некий список, то обязательно используйте массив. Например, вы можете вести список имён всех встреченных персонажей:
</p>

<p>
<pre class="brush: qsp">
$встреченные_неписи[0] = &quot;Домовёнок Нафаня&quot;
$встреченные_неписи[1] = &quot;Девочка Оля&quot;
$встреченные_неписи[2] = &quot;Лариса Петровна&quot;
$встреченные_неписи[3] = &quot;Баба Яга&quot;
</pre>
</p>

<p>
В данном примере мы помещали в массив строковые значения. Чтобы поместить в ячейку массива строковое значение, нужно поставить перед именем массива символ <code>$</code> (префикс типа).
</p>

<p>
То же самое и в случае, когда мы хотим получить значение из ячейки массива: если мы хотим получить строковое значение, нужно поставить символ <code>$</code> перед именем массива.
</p>

<p>
И точно так же это работает для числовых значений и кортежей: - Если нам нужно присвоить ячейке массива, или получить из неё, числовое значение, никаких символов мы перед именем массива не ставим (без префикса типа). - Если нам нужно присвоить ячейке массива, или получить из неё, кортеж, ставим символ <code>%</code> перед именем массива (указываем префикс типа).
</p>

<p>
Примеры:
</p>

<p>
<pre class="brush: qsp">
$яблоки[0]=&#039;антоновка&#039;
$яблоки[1]=&#039;белый налив&#039;
$яблоки[2]=&#039;астраханское&#039;
$яблоки[3]=&#039;ранетка&#039;
$яблоки[4]=&#039;симиренко&#039;

сорт_яблока[0] = 1
сорт_яблока[1] = 2
сорт_яблока[2] = 4

%сорта_в_корзине[0] = [1, 4]
%сорта_в_корзине[1] = [2, 4]
%сорта_в_корзине[2] = [1, 2]

*pl $яблоки[сорт_яблока[номер_яблока]]
</pre>
</p>

<p>
<strong>В одном массиве</strong> допускается хранить значения любых типов, однако строго рекомендуется хранить в одном массиве только значения одного типа: либо строковые, либо числовые, либо кортежи, — во избежание возможных <a href="/glossary:bag" class="wikilink1" title="glossary:bag">багов</a>.
</p>

<p>
<strong>В одной ячейке массива</strong> можно хранить значение только одного типа! Если вы запишете в ячейку, которая хранит строку, числовое значение — это числовое значение &quot;затрёт&quot; строковое. И точно так же со значением любого другого типа.
</p>

</div>

<h3 class="sectionedit6" id="obrabotka_massivov">Обработка массивов</h3>
<div class="level3">

<p>
Преимущество работы с массивами по сравнению с обычными переменными раскрывается тогда, когда нам приходится много раз повторять одну и ту же операцию над однотипными значениями.
</p>

<p>
В примере из начала статьи мы помещали наносимый одноручным мечом урон для двадцати разных мечей в двадцать отдельных переменных и видели, что даже такая простая операция, как вывод значений всех этих переменных на экран требует огромного количества кода. Совсем другое дело, когда мы поместили наши данные в массив, ведь мы можем перебрать весь массив с помощью простого цикла:
</p>

<p>
<pre class="brush: qsp">
меч_одноручный[0] = 23 &amp; ! нумерация ячеек массива начинается с нуля
меч_одноручный[1] = 34
меч_одноручный[2] = 27
...
меч_одноручный[18] = 7
меч_одноручный[19] = 41 &amp; ! значение для двадцатого меча лежит в ячейке под номером 19

! выводим на экран список с помощью цикла
loop i=0 while i&lt;20 step i+=1:
  *pl &quot;Меч одноручный №&lt;&lt;i+1&gt;&gt;. Урон: &quot;+$str(меч_одноручный[i])
end
</pre>
</p>

<p>
В этом примере для вывода на экран всех значений из всех двадцати ячеек массива нам потребовалось написать всего три строчки кода.
</p>

<p>
А вот как выглядит поиск одноручного меча с наибольшим значением урона:
</p>

<p>
<pre class="brush: qsp">
pos = arrpos(&#039;меч_одноручный&#039;,max(&#039;меч_одноручный&#039;))
*pl &quot;Наибольший урон имеет Меч одноручный №&lt;&lt;pos+1&gt;&gt;: &quot;+$str(меч_одноручный[pos])
</pre>
</p>

<p>
В обоих этих примерах вместо указания конкретного номера ячейки массива, при получении данных из массива, мы подставляли значение переменной. Именно эта возможность позволяет так легко и быстро обрабатывать множество данных в массивах, и делает работу с ними более удобной, чем с обычными переменными.
</p>

</div>

<h3 class="sectionedit7" id="indeksirovanie_ehlementov_massiva">Индексирование элементов массива</h3>
<div class="level3">

<p>
Выше мы писали, что ячейки массивов нумеруются подряд, начиная с нуля, и нумерация эта не прерывается. Номер ячейки массива называется <strong>числовым индексом ячейки массива</strong>.
</p>

<p>
<pre class="brush: qsp">
! ячейки массивов индексируются через числа
$любимый_сорт[3] = $яблоки[2]
любимое_число[19] = 5
$item_loc[0] = &#039;лес&#039;
</pre>
</p>

<p>
<strong>Важно!</strong> Настоятельно не рекомендуется использовать большие числовые индексы без необходимости.
</p>

<p>
<strong>QSP</strong> позволяет создавать для элементов массивов не только числовые, но и строковые индексы. Иными словами массивы могут <em>индексироваться через строки</em>. Примеры:
</p>

<p>
<pre class="brush: qsp">
! ячейки массивов индексируются через строки
$любимый_сорт[&#039;Иван&#039;] = $яблоки[2]
любимое_число[&#039;Алексей&#039;] = 5
$item_loc[&#039;палка&#039;] = &#039;лес&#039;
</pre>
</p>

<p>
Регистр символов в строковом индексе массива значения не имеет:
</p>

<p>
<pre class="brush: qsp">
$любимый_сорт[&#039;иван&#039;] = &#039;Антоновка&#039;
*pl $любимый_сорт[&#039;ИВАН&#039;] &amp; ! выведет строку Антоновка
</pre>
</p>

<p>
Есть небольшая хитрость в том, как назначаются строковые индексы ячейкам массивов. Когда вы инициализируете (создаёте, объявляете) новую ячейку массива со строковым индексом, происходит следующее:
</p>
<ul>
<li class="level1"><div class="li"> Плеер создаёт новую ячейку с новым числовым индексом, следующим по порядку. Например, если в массиве уже были созданы три ячейки, создаётся ячейка с числовым индексом <code>3</code>.</div>
</li>
<li class="level1"><div class="li"> Затем плеер &quot;прикрепляет&quot; указанный строковый индекс к числовому.</div>
</li>
</ul>

<p>
Поэтому, если вы создаёте ячейку со строковым индексом, вы можете получать из неё значения в том числе и по числовому индексу:
</p>

<p>
<pre class="brush: qsp">
яблоки[&#039;у Паши&#039;]=37
яблоки[&#039;у Даши&#039;]=19
яблоки[&#039;у Лёши&#039;]=11
*pl яблоки[0] &amp; ! выведет на экран число 37
*pl яблоки[1] &amp; ! выведет на экран число 19
*pl яблоки[2] &amp; ! выведет на экран число 11
</pre>
</p>

<p>
<strong>Настоятельно рекомендуется</strong> использовать для индексирования или только числовые индексы, или только строковые индексы.
</p>

<p>
Текстовые индексы позволяют обойти ограничение массивов на начало нумерации только с нуля:
</p>

<p>
<pre class="brush: qsp">
$item[&#039;-2&#039;]=&#039;Палка&#039;
$item[&#039;-1&#039;]=&#039;Дрель&#039;
$item[&#039;0&#039;]=&#039;Радиоактивный пепел&#039;
</pre>
</p>

</div>

<h3 class="sectionedit8" id="mnogomernye_massivy">Многомерные массивы</h3>
<div class="level3">

<p>
В <strong>QSP</strong> есть возможность создавать многомерные массивы, используя для этого специальные индексы:
</p>

<p>
<pre class="brush: qsp">
$map[1,2]=&#039;лес&#039;
$map[1,3]=&#039;лес&#039;
$map[2,2]=&#039;лес&#039;
$map[4,0]=&#039;река&#039;
</pre>
</p>

<p>
В данном примере в квадратных скобках вместо номера ячейки мы указываем числа, перечисляемые через запятую. Таким образом мы создаём ячейки <strong>двумерного</strong> массива.
</p>

<p>
Числа в квадратных скобках — это строка значений, или <strong><a href="/help:tuples" class="wikilink1" title="help:tuples">кортеж</a></strong>.
</p>

<p>
Используя для индексации элементов массивов кортежи, мы можем создавать трёхмерные, четырёхмерные, и вообще сколькиугодно-мерные массивы:
</p>

<p>
<pre class="brush: qsp">
$space[0,-2,9] = &#039;космический корабль&#039;
value_time[12,33,1,366] = 137
макрокосмос_миллиардов_микрокосм[12,34,12,98,76,30,11,19,137,90] = 991112
</pre>
</p>

<p>
Для многомерных индексов можно использовать не только числовые значения, но и строковые:
</p>

<p>
<pre class="brush: qsp">
данные[&#039;таблица_данных&#039;,0,1]=73
яблоки[&#039;Паша&#039;,&#039;левый карман&#039;]=91
яблоки[&#039;Миша&#039;,&#039;правый карман&#039;]=10
$map[12,14,&#039;слой_подземелья&#039;]=&quot;стена&quot;
</pre>
</p>

<p>
Есть небольшая хитрость в том, как назначаются многомерные индексы ячейкам массивов. Когда вы инициализируете (создаёте; объявляете) новую ячейку массива с многомерным индексом, происходит следующее:
</p>
<ul>
<li class="level1"><div class="li"> Плеер создаёт новую ячейку с новым <strong>числовым</strong> индексом, следующим по порядку. Например, если в массиве уже были созданы семь ячеек, создаётся ячейка с числовым индексом <code>7</code>.</div>
</li>
<li class="level1"><div class="li"> Затем плеер &quot;прикрепляет&quot; указанный многомерный индекс к числовому.</div>
</li>
</ul>

<p>
Поэтому, если вы создаёте ячейку с многомерным индексом, вы можете получать из неё значения в том числе и по числовому индексу:
</p>

<p>
<pre class="brush: qsp">
яблоки[&#039;у Паши&#039;,&#039;левый карман&#039;]=37
яблоки[&#039;у Паши&#039;,&#039;правый карман&#039;]=5
яблоки[&#039;у Лёши&#039;,&#039;левый карман&#039;]=11
яблоки[&#039;у Лёши&#039;,&#039;правый карман&#039;]=19
*pl яблоки[0] &amp; ! выведет на экран число 37
*pl яблоки[1] &amp; ! выведет на экран число 5
*pl яблоки[2] &amp; ! выведет на экран число 11
*pl яблоки[3] &amp; ! выведет на экран число 19
</pre>
</p>

<p>
<strong>Настоятельно рекомендуется</strong> использовать для индексирования или только числовые индексы, или только многомерные индексы.
</p>

<p>
Поскольку многомерные индексы - это кортежи: - можно использовать переменные типа <strong>кортеж</strong> для подстановок в индексах таких массивов: <pre class="brush: qsp">
%coords = [120, 450, -37]
$map[%coords] = &#039;Alien&#039;
</pre> - Запись с дополнительным набором скобок эквивалентна записи с одним набором скобок при указании индекса ячейки массива: <pre class="brush: qsp">
$array[1, 2, 137]
! эквивалентно
$array[[1, 2, 137]]
</pre>
</p>

</div>

<h3 class="sectionedit9" id="uproschjonnyj_dostup_k_jachejkam_massivov">Упрощённый доступ к ячейкам массивов</h3>
<div class="level3">

<p>
На самом деле каждая переменная в QSP является массивом, состоящим из одной единственной ячейки:
</p>

<p>
<pre class="brush: qsp">
яблоки = 0
!эквивалентно
яблоки[0] = 0
</pre>
</p>

<p>
то есть, если мы создаём переменную с именем &quot;яблоко&quot;, мы тем самым создаём массив с именем &quot;яблоко&quot;, состоящий из одной ячейки.
</p>

<p>
Таким образом вы всегда можете получить или присвоить данные нулевой ячейке массива, просто указав его имя:
</p>

<p>
<pre class="brush: qsp">
! присваиваем нулевой ячейке массива &#039;$COUNTER&#039; строковое значение
$counter=&#039;счётчик&#039;
*pl $counter[0] &amp; ! проверяем
! присваиваем нулевым ячейкам массивов red, green, blue значения
set red[0],green[0],blue[0]=234,198,77
*pl &quot;red: &lt;&lt;red&gt;&gt;, green: &lt;&lt;green&gt;&gt;, blue: &lt;&lt;blue&gt;&gt;&quot; &amp; ! проверяем
</pre>
</p>

<p>
Существует упрощённый синтаксис чтения последнего и добавления нового элемента в массив. Для этого квадратные скобки пишутся без указания индекса:
</p>
<ul>
<li class="level1"><div class="li"> при записи значения в массив будет создан новый элемент сразу за последним. Например: <pre class="brush: qsp">

! Если массив был пустой, то
$objs[] = &#039;Напильник&#039; &amp;! $objs[0] = &#039;Напильник&#039;
$objs[] = &#039;Топор&#039;
&amp;! $objs[1] = &#039;Топор&#039;
$objs[] = &#039;Доска&#039;
&amp;! $objs[2] = &#039;Доска&#039;
</pre></div>
</li>
<li class="level1"><div class="li"> при получении значения из массива будет выбран последний элемент. Например: <pre class="brush: qsp">

*pl $objs[] &amp;! &#039;Доска&#039; из примера выше
</pre></div>
</li>
</ul>

</div>

<h2 class="sectionedit10" id="funkcii_i_operatory_dlja_raboty_s_massivami">Функции и операторы для работы с массивами</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <code>KILLVAR [$имя_массива], [индекс_элемента]</code> - удаление элемента с индексом <code>[индекс_элемента]</code> из массива с названием <code>[$имя_массива]</code>. Название массива всегда нужно писать в кавычках. Пример: <pre class="brush: qsp">
! удаление по числовому индексу
killvar &#039;яблоко&#039;,3
! удаление элемента по строковому индексу
killvar &#039;$item_loc&#039;,&#039;палка&#039;
! удаление элемента по многомерному индексу
killvar &#039;$space&#039;,[0,-2,9]
</pre></div>
<ul>
<li class="level2"><div class="li"> Если индекс элемента не указан, то удаляется весь массив. <pre class="brush: qsp">
! удаляем массив $map целиком
killvar &#039;$map&#039;
</pre></div>
</li>
<li class="level2"><div class="li"> Если оператор вызван без аргументов, то удаляются все массивы и переменные в игре! <pre class="brush: qsp">
! удаляем все массивы и переменные
KILLVAR
</pre></div>
</li>
<li class="level2"><div class="li"> При удалении элемента все следующие за ним элементы сдвигаются на позицию вверх. <pre class="brush: qsp">
a[0]=4
a[1]=3
a[2]=23
a[3]=15
KILLVAR &#039;a&#039;,1
!теперь массив выглядит так:
a[0]=4
a[1]=23
a[2]=15
</pre></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <code>KILLALL</code> - оператор эквивалентен конструкции &quot;<code>KILLVAR &amp; KILLOBJ</code>&quot;, то есть удаляет все переменные/массивы в игре, а так же очищает Окно предметов. Обычно применяется в начале игры, чтобы при возврате в начальную локацию после неудачного прохождения какого-то этапа игры обнулить все переменные (в противном случае, может оказаться, что запертые двери уже открыты, жена похищена до свадьбы, а Баба-Яга уже отдала кому-то нужный клубочек).</div>
</li>
<li class="level1"><div class="li"> <code>COPYARR [$приёмник],[$источник],[#начало],[#количество]</code> - копирование в массив-приёмник <code>[#количество]</code> элементов из массива-источника начиная с элемента под номером <code>[#начало]</code>. Размер массива-приёмника при копировании не имеет значения.</div>
<ul>
<li class="level2"><div class="li"> Параметр <code>[#количество]</code> является необязательным. По умолчанию - до конца массива-источника.</div>
</li>
<li class="level2"><div class="li"> Параметр <code>[#начало]</code> является необязательным. По умолчанию - <code>0</code>.</div>
</li>
<li class="level2"><div class="li"> Не имеет значения, указываете ли вы <code>$</code> или <code>%</code> перед названием массива, или нет. Копируются элементы с любыми типами значений.</div>
</li>
<li class="level2"><div class="li"> Примеры: <pre class="brush: qsp">
COPYARR &#039;$a&#039;,&#039;$b&#039;
COPYARR &#039;a&#039;,&#039;b&#039;
! $arrname1, $arrname2 = &#039;arr&#039;, &#039;bar&#039;
COPYARR $arrname1,$arrname2,10,5
COPYARR &#039;a&lt;&lt;$arrname1&gt;&gt;&#039;,&#039;a&lt;&lt;$arrname2&gt;&gt;&#039;
</pre></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <code>SORTARR [$имя_массива], [#порядок]</code> — Данный оператор сортирует указанный массив. Параметр <code>[#порядок]</code> опционален. Если не указан или равен 0, то сортирует массив по возрастанию (от меньшего к большему). Если равен 1, то сортирует массив по убыванию (от большего к меньшему).</div>
<ul>
<li class="level2"><div class="li"> Может сортировать массивы любых типов (числа, строки, кортежи), но не допускается смешивать значения разных типов в одном массиве.</div>
</li>
<li class="level2"><div class="li"> Для указания типа сортируемых значений нужно указать префикс типа как часть имени массива (<code>$</code>, <code>%</code>).</div>
</li>
<li class="level2"><div class="li"> Пример сортировки текстового массива: <pre class="brush: qsp">
$a[] = &#039;nn&#039;
$a[] = &#039;zz&#039;
$a[] = &#039;aa&#039;
sortarr &#039;$a&#039;
!проверяем результат сортировки:
loop local i=0 while i&lt;arrsize(&#039;$a&#039;) step i+=1:
  *pl $a[i]
end
</pre></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <code>SCANSTR [$имя_массива], [$текст_для_разбора], [$регэксп], [#номер_группы]</code> — в массив <code>[$имя_массива]</code> помещаются строки, соответствующие <a href="/help:regexp" class="wikilink1" title="help:regexp">регулярному выражению</a> <code>[$регэксп]</code>, которые будут найдены в строке <code>[$текст_для_разбора]</code>. Если указан параметр <code>[#номер_группы]</code>, в массив будет помещаться не вся строка, соответствующая регулярному выражению, а лишь часть, соответствующая указанной группе в этом регулярном выражении. Примеры: <pre class="brush: qsp">
! вытаскиваем из строки все слова:
$text = &#039;Шла Саша по шоссе, а Грека через реку.&#039;
scanstr &#039;$words&#039;, $text, &#039;\b\w+\b&#039;
!В массиве $words окажутся значения: &#039;Шла&#039;, &#039;Саша&#039;, &#039;по&#039;, &#039;шоссе&#039;, &#039;а&#039;, &#039;Грека&#039;, &#039;через&#039;, &#039;реку&#039;

! разбиваем строку по разделителю:
$text = &#039;утро|день|вечер|ночь&#039; 
scanstr &#039;$words&#039;, $text, &#039;[^|]+&#039;
!В массиве $words окажутся значения: &#039;утро&#039;, &#039;день&#039;, &#039;вечер&#039;, &#039;ночь&#039;

! вытаскиваем из строки все слова, помещённые в квадратные скобки, но без квадратных скобок:
$text = &#039;[first] ignoredtext [second][third] also ignored&#039; 
scanstr &#039;$words&#039;, $text, &#039;\[(.*?)\]&#039;, 1
!В массиве $words окажутся значения: &#039;first&#039;, &#039;second&#039;, &#039;third&#039;
</pre></div>
</li>
<li class="level1"><div class="li"> <code>ARRITEM([$имя_массива],[индекс_элемента])</code> — возвращает значение элемента массива с названием <code>[$имя_массива]</code> по указанному индексу. То есть функция извлекает значение из указанной ячейки массива. Примеры: <pre class="brush: qsp">
! выводим значение элемента с индексом 3
*pl $arritem(&#039;$mass&#039;, 3)
! выводим значение элемента с текстовым индексом
*pl $arritem(&#039;$mass&#039;, &#039;Петя&#039;)
! выводим значение элемента с многомерным индексом
*pl $arritem(&#039;$mass&#039;, [-2, 9, 0])
</pre> Эта функция может быть полезна для извлечения значений, если имя массива заранее не известно. Пример: <pre class="brush: qsp">
! выводим содержимое нескольких массивов без использования &#039;&#039;**DYNAMIC**&#039;&#039;:
$array_name[]=&#039;mass_1&#039;
$array_name[]=&#039;mass_2&#039;
$array_name[]=&#039;mass_3&#039;
$array_name[]=&#039;mass_4&#039;
$array_name[]=&#039;mass_5&#039;
! внешний цикл перебирает имена массивов
loop local j=0 while j&lt;arrsize(&#039;$array_name&#039;) step j+=1:
    ! внутренний цикл выводит содержимое массивов
    loop local i=0 while i&lt;arrsize($array_name[j]) step i+=1:

   *pl arritem($array_name[j], i)
    end
end
</pre></div>
</li>
<li class="level1"><div class="li"> <code>SETVAR [$имя_массива], [значение], [индекс]</code> — устанавливает значение элемента массива с названием <code>[$имя_массива]</code> по указанному индексу. То есть оператор присваивает значение указанной ячейке массива. Префикс имени переменной указывает тип значения, которое нужно записать в элемент массива (как с обычными присваиваниями). Параметр <code>[индекс]</code> опционален. Если этот параметр не указан, то значение присваивается 0-му элементу. Значение и индекс могут быть любых типов. Примеры: <pre class="brush: qsp">
SETVAR &#039;A&#039;, 65
SETVAR &#039;$X&#039;, &#039;name&#039;, 4
SETVAR &#039;$X&#039;, &#039;name&#039;, &#039;string index&#039;
SETVAR &#039;%Q&#039;, [&#039;пример&#039;, &#039;кортежа&#039;], 3
SETVAR &#039;%Q&#039;, [&#039;пример&#039;, &#039;кортежа&#039;], [x, y]
</pre> Данный оператор дополняет функцию <code><strong>ARRITEM</strong></code> и позволяет избегать использования <code>DYNAMIC</code> в некоторых случаях.</div>
</li>
<li class="level1"><div class="li"> <code>ARRSIZE([$имя_массива])</code> - функция возвращает число элементов массива с названием <code>[$имя_массива]</code>.</div>
<ul>
<li class="level2"><div class="li"> Не имеет значения, указываете ли вы <code>$</code> или <code>%</code> перед названием массива или нет. Подсчитывается общее число ячеек и со значениями любых типов.</div>
</li>
<li class="level2"><div class="li"> Примеры: <pre class="brush: qsp">
n = ARRSIZE(&#039;a&#039;)
n = ARRSIZE(&#039;$a&#039;)
!Результат будет одинаковый
</pre></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <code><strong>ARRTYPE(</strong>[$имя_переменной], [индекс]<strong>)</strong></code> - получает тип значения, которое хранится в массиве <code>[$имя_переменной]</code> под индексом <code>[индекс]</code>.</div>
<ul>
<li class="level2"><div class="li"> Параметр <code>[индекс]</code> может отсутствовать, при этом он принимается равным <code>0</code>. То есть вычисляется тип значения переменной/нулевой ячейки массива. Индекс может быть любого типа.</div>
</li>
<li class="level2"><div class="li"> Функция возвращает одно из следующих значений в зависимости от типа:</div>
<ul>
<li class="level3"><div class="li"> <code>&#039;&#039;</code> (пустая строка) - элемент массива не задан.</div>
</li>
<li class="level3"><div class="li"> <code>&#039;#&#039;</code> - элемент содержит число.</div>
</li>
<li class="level3"><div class="li"> <code>&#039;$&#039;</code> - элемент содержит строку.</div>
</li>
<li class="level3"><div class="li"> <code>&#039;%&#039;</code> - элемент содержит кортеж.</div>
</li>
</ul>
</li>
<li class="level2"><div class="li"> Пример: <pre class="brush: qsp">
$ddd = &#039;text&#039;
arrtype(&#039;ddd&#039;) &amp; ! &#039;$&#039;

$g = &#039;text&#039; &amp; g = 13
arrtype(&#039;g&#039;) &amp; ! &#039;#&#039;

%tuple[&#039;index&#039;] = [12, &#039;string&#039;]
arrtype(&#039;tuple&#039;, &#039;index&#039;) &amp; ! &#039;%&#039;

! $empty not exist
arrtype(&#039;$empty&#039;) &amp; ! &#039;&#039;
</pre></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <code>MAX([выр1],[выр2], …)</code> - возвращает максимальное из значений выражений-аргументов. Если передан один аргумент, то считается, что указано имя массива: <pre class="brush: qsp">
MAX(&#039;a&#039;) &amp;! вернёт максимальное из числовых значений элементов массива &quot;a&quot;
MAX(&#039;$b&#039;) &amp;! вернёт максимальное из текстовых значений элементов массива &quot;$b&quot;
MAX(&#039;%d&#039;) &amp;! вернёт максимальный из кортежей в массиве &#039;%d&#039;
</pre></div>
</li>
<li class="level1"><div class="li"> <code>MIN([выр1],[выр2], …)</code> - возвращает минимальное из значений выражений-аргументов. Если передан один аргумент, то считается, что указано имя массива: <pre class="brush: qsp">
MIN(&#039;a&#039;) &amp;! вернёт минимальное из числовых значений элементов массива &quot;a&quot;
MIN(&#039;$b&#039;) &amp;! вернёт минимальное из текстовых значений элементов массива &quot;$b&quot;
MIN(&#039;%d&#039;) &amp;! вернёт минимальный из кортежей в массиве &#039;%d&#039;
</pre></div>
</li>
<li class="level1"><div class="li"> <code>ARRCOMP([$имя_массива],[$шаблон],[#начало])</code> - возвращает номер элемента массива <code>[$имя_массива]</code>, соответствующего регулярному выражению <code>[$шаблон]</code>. Поиск начинается с элемента с номером <code>[#начало]</code>; индексация элементов массива ведётся с нуля. Если указанное значение не найдено, функция возвращает <code>-1</code>.</div>
<ul>
<li class="level2"><div class="li"> Поиск работает только по текстовым массивам (символ <code>$</code> в названии массива можно опустить).</div>
</li>
<li class="level2"><div class="li"> Параметр <code>[#начало]</code> может отсутствовать, при этом он принимается равным <code>0</code>.</div>
</li>
<li class="level2"><div class="li"> Примеры: <pre class="brush: qsp">
!Поиск строки &#039;This&#039; среди элементов массива &quot;$A&quot;
ARRCOMP(&#039;$A&#039;,&#039;This&#039;,0)
!&#039;Поиск строки, соответствующей регулярному выражению &quot;abc\d+&quot;
(первые два элемента массива игнорируются)&#039;
ARRCOMP(&#039;$A&#039;,&#039;abc\d+&#039;,2)
!&#039;аналогично предыдущему примеру, но поиск осуществляется
по всем элементам массива&#039;
ARRCOMP(&#039;$A&#039;,&#039;.*string.*&#039;,0)
ARRCOMP(&#039;$A&#039;,&#039;This&#039;) &amp;! эквивалентно 1му варианту
</pre></div>
</li>
<li class="level2"><div class="li"> Функция возвращает только числовой индекс элемента. Строковый или многомерный индекс с помощью данной функции получить нельзя.</div>
</li>
</ul>
</li>
</ul>

<p>
Так же см. ARRPACK и UNPACKARR в разделе <a href="/help:tuples" class="wikilink1" title="help:tuples">&quot;Кортежи&quot;</a>
</p>

<p>
<a href="/help:strings" class="wikilink1" title="help:strings">Вперёд: Строки</a>
</p>

</div>

<script type='text/javascript'>
  SyntaxHighlighter.autoloader(
    'applescript /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushAppleScript.js',
    'actionscript3 as3 /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushAS3.js',
    'bash shell /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushBash.js',
    'coldfusion cf /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushColdFusion.js',
    'cpp c /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushCpp.js',
    'c# c-sharp csharp /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushCSharp.js',
    'css /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushCss.js',
    'delphi pascal /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushDelphi.js',
    'diff patch pas /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushDiff.js',
    'erl erlang /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushErlang.js',
    'groovy /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushGroovy.js',
    'java /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushJava.js',
    'jfx javafx /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushJavaFX.js',
    'js jscript javascript /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushJScript.js',
    'perl pl /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushPerl.js',
    'php /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushPhp.js',
    'text plain /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushPlain.js',
    'ps powershell /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushPowerShell.js',
    'py python /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushPython.js',
    'ruby rails ror rb /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushRuby.js',
    'sass scss /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushSass.js',
    'scala /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushScala.js',
    'sql /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushSql.js',
    'vb vbnet /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushVb.js',
    'xml xhtml xslt html /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushXml.js',
    ' qsp /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushQsp.js'
  );
  SyntaxHighlighter.all();
</script>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>help/arrays.txt</bdi> · Последние изменения: 2025/04/19 06:41  — <bdi>aleks_versus</bdi></div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
            <div id="dokuwiki__pagetools">
                <h3 class="a11y">Инструменты страницы</h3>
                <div class="tools">
                    <ul>
                        <li><a href="/help:arrays?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Показать исходный текст [V]"><span>Показать исходный текст</span></a></li><li><a href="/help:arrays?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="История страницы [O]"><span>История страницы</span></a></li><li><a href="/help:arrays?do=backlink"  class="action backlink" rel="nofollow" title="Ссылки сюда"><span>Ссылки сюда</span></a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Наверх [T]"><span>Наверх</span></a></li>                    </ul>
                </div>
            </div>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
    
    <div class="buttons">
<a href="https://www.dokuwiki.org/ru:tips:good_style">Как писать хорошие вики-статьи</a>
<a href="https://www.dokuwiki.org/ru:wiki:syntax">Вики-синтаксис</a>
<a href="https://www.dokuwiki.org/ru:manual">Руководство пользователя</a>
<a href="/playground:playground">Песочница (для любого тестирования)</a>
<a href="/discussions">Обсуждения</a>
<!--
                <a href="https://www.dokuwiki.org/donate" title="Donate" ><img
            src="/lib/tpl/qspdokuwiki/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="https://www.php.net" title="Powered by PHP" ><img
            src="/lib/tpl/qspdokuwiki/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="https://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="/lib/tpl/qspdokuwiki/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="https://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="/lib/tpl/qspdokuwiki/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="https://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="/lib/tpl/qspdokuwiki/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
-->
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img src="/lib/exe/indexer.php?id=help%3Aarrays&amp;1757411651" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if ( lte IE 7 | IE 8 ) ]></div><![endif]-->
</body>
</html>
